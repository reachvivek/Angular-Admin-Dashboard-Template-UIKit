<div class="container">
  <div class="form">
    <div
      [ngClass]="{ 'focus-on-input': isInputFocusedOrTyped }"
      class="sign-in-section"
    >
      <img
        class="mb-2"
        src="assets/img/brand/CMS_RMS_logo-removebg.png"
        style="max-width: 145px"
        alt=""
      />

      <p class="mt-2 fs-3">Payment Advisor</p>

      <!-- PrimeNG UI Template -->

      <!-- Ends -->

      <form #otp="ngForm" (submit)="onSubmit()" ngNativeValidate>
        <div>
          <div class="form-group">
            <div class="d-flex flex-column align-items-center">
              <div class="font-bold fs-5">Authenticate Your Account</div>
              <p class="text-color-secondary block mt-2">
                Please enter the code sent to your email or phone.
              </p>
            </div>
            <p-inputOtp
              #otp="ngModel"
              [(ngModel)]="otpForm.otp"
              name="otp"
              [length]="otpLength"
              style="gap: 0"
            >
              <ng-template
                pTemplate="input"
                let-token
                let-events="events"
                let-index="index"
              >
                <input
                  pInputText
                  type="text"
                  (focus)="onInputFocusOrTyping()"
                  (blur)="onInputBlur()"
                  class="form-control"
                  type="text"
                  id="otp"
                  [maxLength]="1"
                  (input)="events.input($event)"
                  (keydown)="events.keydown($event)"
                  [attr.value]="token"
                  class="custom-otp-input"
                  required
                />
                <div *ngIf="index === 3" class="px-3">
                  <i class="pi pi-minus"></i>
                </div>
              </ng-template>
            </p-inputOtp>
            <p
              *ngIf="otp.invalid && (otp.dirty || otp.touched)"
              class="form-text text-danger text-start"
            >
              Code is required
            </p>
          </div>
          <!-- group -->

          <div class="d-flex flex-column align-items-center">
            <div class="d-flex justify-content-between mt-3 align-self-stretch">
              <button class="btn btn-outline btn-block mb-1">
                Resend Code
              </button>
              <button
                [disabled]="otp.invalid"
                type="submit"
                class="btn btn-primary btn-block mb-1"
                (click)="submitCode()"
              >
                Submit Code
              </button>
            </div>
          </div>
        </div>
      </form>
      <!-- form -->
    </div>
  </div>
</div>
